<!DOCTYPE html>
<html lang="es">
<%- include('../partials/head', { title: mode === 'create' ? 'Nuevo producto' : 'Editar producto' }) %>
<body>
  <%- include('../partials/nav') %>

  <div class="container">
    <h1><%= mode === 'create' ? 'Nuevo producto' : 'Editar producto' %></h1>

    <% if (error) { %><p class="error"><%= error %></p><% } %>

    <form method="POST" action="<%= mode === 'create' ? '/stock/nuevo' : '/stock/' + product.id + '/editar' %>" class="card">
      <label>Nombre</label>
      <input name="name" required value="<%= product ? product.name : '' %>"/>

      <label>Precio</label>
      <input name="price" type="number" step="0.01" value="<%= product ? product.price : 0 %>"/>

      <label>Stock</label>
      <input name="stock_qty" type="number" step="0.01" value="<%= product ? product.stock_qty : 0 %>"/>

      <label class="inline">
        <input name="active" type="checkbox" <%= product ? (product.active ? 'checked' : '') : 'checked' %> />
        Activo
      </label>

      <div class="row">
        <button class="btn" type="submit">Guardar</button>
        <a class="btn btn--ghost" href="/stock">Volver</a>
      </div>
    </form>
  </div>

  <%- include('../partials/footer') %>
</body>
</html>
